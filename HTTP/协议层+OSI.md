## HTTP
HTTP是一个在计算机世界里专门在两点之间传输文字、图片、音频视频等超文本数据的预定和规范。

在互联网世界里，HTTP 通常跑在 TCP/IP 协议栈之上，依靠 IP 协议实现寻址和路由、TCP 协议实现可靠数据传输、DNS 协议实现域名查找、SSL/TLS 协议实现安全通信。此外，还有一些协议依赖于 HTTP，例如 WebSocket、HTTPDNS 等。这些协议相互交织，构成了一个协议网，而 HTTP 则处于中心地位。

## TCP/IP 协议

第一层：<em style='color:red;'>“链接层”</em>，负责在以太网、wifi这样的底层网络上发送原始数据包，工作在网卡这一层次，使用MAC地址来标记网络设备，所以也叫做MAC层（传输单位：帧）；

第二层：<em style='color:red;'>“网际层”或“网络互联层”</em>，<em style='color: yellow;'>IP协议</em>工作在这一层，这一层会用IP地址取代MAC地址，在网络里查找设备只要把IP地址转化成MAC地址就可以了（传输单位：包）；

第三层：<em style='color:red;'>“传输层”</em>，这一层协议要保证数据在IP地址标记的亮点之间可靠的传输，是<em style='color: yellow;'>TCP协议</em>工作的层次，UDP协议也在这一层（传输单位：段）；
```
TCP：有状态协议，需要先和对方建立连接发能发送数据，这样就保证了数据不丢失、不重复，TCP的数据是连续的‘字节流’，有先后顺序；
UDP：无状态协议，不用建立连接就可以发送数据，不保证数据一定会发送到对方，UDP的数据是分散的数据包，顺序发，乱序收；
```

第四层：<em style='color:red;'>“应用层”</em>，<em style='color: yellow;'>HTTP协议</em>所在层，也包含其他协议，SSH、FTP、SMTP等（传输单位：消息、报文）。

## OSI模型

第一层：“物理层”，网络的物理形式，例如光缆、网卡、光纤、集线器等；

第二层：“数据链路层”，基本相当于TCP/IP的“链接层”；

第三层：“网络层”，相当于TCP/IP的“网际层”；

第四层：“传输层”，相当于TCP/IP的“传输层”；

第五层：“会话层”，维护网络中的连接状态，即保持会话和同步；

第六层：“表示层”，把数据转换为合适、可理解的语法和语义；

第七层：“应用层”，面向具体的应用传输数据；


<em style='color: red;'>四层负载均衡</em>：指工作在运输层，基于TCP/IP协议的特性，例如IP地址、端口号等实现对后端服务器的负载均衡。

<em style='color: red;'>七层负载均衡</em>：指工作在应用层，看到的是HTTP协议，解析HTTP报文中的URI、主机名、资源类型等数据，再用适当的策略转发给后端服务器。

<em style='color: red;'>二层转发</em>：设备工作在链接层，帧在经过交换机设备时检查帧的头部信息，拿到目标MAC地址，进行本地转发和广播。

<em style='color: red;'>三层路由</em>：设备工作在网际层，报文经过有路由功能的设备时设备分析报文中的头部信息，拿到IP地址，根据网段范围，进行本地转发或选择下一个网关。

<em style='color: red;'>TCP/IP协议栈的工作方式</em>：发送方发送数据，首先经过应用层（HTTP协议层），HTTP协议会为数据增加一个HTTP专用的附加数据；经过传输层（TCP协议层）时，增加TCP头；经过网际层（IP协议层）时增加IP头；经过链接层（MAC层）增加MAC头。
接收方收到数据后会从第一层协议层向上层层拆包，去掉协议头，拿到最终的数据。